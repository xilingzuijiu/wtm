<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Turn checkboxes and radio buttons in toggle switches.">
    <meta name="author" content="Mattia Larentis, Emanuele Marchi and Peter Stein">
    <title>Bootstrap Switch · Turn checkboxes and radio buttons in toggle switches</title>
    <link href="../../code/css/bootstrap.min.css" rel="stylesheet">
    <link href="../../code/css/highlight.css" rel="stylesheet">
    <link href="../../code/css/bootstrap-switch.min.css" rel="stylesheet">
    <link href="../../code/css/docs.min.css" rel="stylesheet">
    <link href="../../code/css/main.css" rel="stylesheet">
    <script src="../../code/js/jquery.min.js"></script>
    <script src="../../code/js/bootstrap.min.js"></script>
    <script src="../../code/js/highlight.js"></script>
    <script src="../../code/js/bootstrap-switch.min.js"></script>
    <script src="../../code/js/main.js"></script>
    <script>
var flag=0;
        $(function(){
//            if(flag==0){
//                $('#switch-state').bootstrapSwitch('state', false);
//                alert(flag);
//                flag++;
//            }else {
//                $('#switch-state').bootstrapSwitch('state', true);
//                alert(flag+"shi");
//                flag--;
//            }
            var isPublishNow=1;
            var isAccessUndercarriage=1;
            if (isPublishNow==0){
                alert("ab");
                $('.switchOn').bootstrapSwitch('state', false);
                $('.switchOn').bootstrapSwitch("disabled","true");
                //option='<option name="" value="0">已下线</option>';
            }
            if (isPublishNow==1&&isAccessUndercarriage==0){
                alert("b");
                $('.switchOn').bootstrapSwitch('state', true);
                $('.switchOn').bootstrapSwitch("disabled","true");
                //option='<option name="" value="1">已上线</option>';
            }

            if (isPublishNow==1&&isAccessUndercarriage==1){
                alert("a");
                $('.switchOn').bootstrapSwitch('state', true);
                //option='<option name="" value="0">已下线</option><option selected="selected" value="1">已上线</option>';
            }

                switchselect();

        });
        function switchselect(){
            $('.switchOn').on({
                'switchChange.bootstrapSwitch': function(event, state) {
                    if (state!=true)
                    {
                        alert("下线成功");
                        $('.switchOn').bootstrapSwitch("disabled","true");
                        console.log(event);

//              $('#switch-state').bootstrapSwitch('toggleState');
                    }
                    else
                    {
                        $('.switchOn').bootstrapSwitch('state', true);
                        alert("下线未成功，请重新执行");
                    }
                }
            });
}

    </script>
</head>
<body>
<div class="switch" >
    <input class="switchOn" data-on-color="primary" type="checkbox" data-on-text="已上线"  data-off-text="已下线" data-off-color="warning"/>
</div>
<div>
    <input type="checkbox"  class="switchOff" id="switch-state" data-off-color="warning" checked/>
    <!--<button type="button" data-switch-get="state" class="btn btn-default">Get</button>-->
</div>
</body>
</html>